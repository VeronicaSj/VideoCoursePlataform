<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">
	<head>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-2LXPE7W1DF"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-2LXPE7W1DF');
		</script>
		
		<meta charset ="UTF-8"/>
		<title th:text="${title}"></title>
		<meta name="description" th:content="${subtitle}">

		<link rel="icon" type="image/png" href="resources/logo.jpg">
		
		<link href="/css/variables.css" rel="stylesheet" type="text/css">
		<link href="/css/fonts.css" rel="stylesheet" type="text/css">
		<link href="/css/styles.css" rel="stylesheet" type="text/css">
		<link href="/css/index.css" rel="stylesheet" type="text/css">
		<link th:replace="../fragments/navigation :: navigationCss">
		
	</head>
	<body>
		<header th:replace="../fragments/navigation :: header"></header>
		<main>
			<form th:action="@{/search}" method='POST'>
				<h3 th:text="${searchLbl}"></h3>
				<div class="rowDiv">
					<input type="text" id="search" name="search">
					<button type="submit" th:text="${searchBtn}"></button>
				</div>
			</form>
			<h2 th:text="${title}"></h2>
            <div class="courseGridDiv">
					<div th:each="course: ${courseList}" class="courseDiv">
						<a th:href="@{/courses/watch/{idcourse}(idcourse=${course.id})}">
							<h3 th:text="${course.name}"></h3>
							<div>
								<img th:if="${course.img}" 
									th:src="@{'data:image/jpeg;base64,'+${course.img.getImgBase64()}}" alt="course" class="image">
								<img th:unless="${course.img}" 
									th:src="@{'data:image/jpeg;base64,'+${defaultImg.getImgBase64()}}" alt="course" class="image">
							</div>
							<p th:text="${course.description}"></p>
						</a>
					</div>
				</div>
				<div th:if="${!thereAreCourses}">
					<h3 th:text="${noCourseMsg}"></h3>
				</div>
			</div>
		</main>
		<footer th:replace="../fragments/navigation :: footer"></footer>
	</body>
</html>